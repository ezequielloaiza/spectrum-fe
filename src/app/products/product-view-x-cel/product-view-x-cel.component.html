
<app-breadcrumb-product [product]="product"></app-breadcrumb-product>
<app-card-product *ngIf="product && validation()" [productName]="product.name">
  <app-order-type [product]="product"></app-order-type>
  <app-info-client [product]="product" (getClient)="getClient($event)"></app-info-client>
  <app-header-component [insertor]="insertor" [header]="product.header"></app-header-component>
  <div class="row product-info">
    <div class="col-md-12 title">
      <label> {{ 'Please specify your product' | translate }}</label>
    </div>
  </div>

  <!-- EYE RIGHT -->
  <app-info-params [eye]="'right'" [typeParams]="'header'" [enableParams]="enableParams.right" (select)="selectEye($event)" (changeParamsAndPrice)="changeParamsAndPrice($event)" [parameters]="product.parametersRight"></app-info-params>
  <app-info-params [eye]="'right'" [typeParams]="'body'" [enableParams]="enableParams.right" (select)="selectEye($event)" (changeParamsAndPrice)="changeParamsAndPrice($event)" [parameters]="product.parametersRight"></app-info-params>

  <div class="img-atlantis" *ngIf="!!showImg.right && !!enable.right">
    <div class="img1">
      <div>
        <span>Quadrant Specifications</span>
        <span>Clock mark position of quadrant 2</span>
          <ng-select [items]="paramsAtlantisImages.right.clock.values" [required]="true" id="select-right-clock"
            [(ngModel)]="paramsAtlantisImages.right.clock.selected" bindLabel="item" bindValue="item"
            placeholder="{{ ' ' | translate }}">
            {{item}}
          </ng-select>
      </div>
      <img [src]="'assets/images/products/atlantis/img1.png'">
    </div>

    <div class="img2">
      <div>
        <div *ngFor="let parameter of getAtlantisParams('right')">
          <!--Quadrant 1-->
          <div  *ngIf="parameter.name !== 'Clock Mark' && parameter.name !== 'Atlantis 2.0 C.S.A'" class="quadrant {{parameter.name}}">
            <ng-select [items]="parameter.values" [required]="true" id="select-right-{{parameter.name}}"
              [(ngModel)]="parameter.selected" bindLabel="item" bindValue="item"
              [clearable]="parameter.noRequired" placeholder="{{ (parameter.name.includes('LZ') ? 'LZ' : 'SZ') | translate }}">
              {{item}}
            </ng-select>
          </div>
        </div>
      </div>
      <img [src]="'assets/images/products/atlantis/img2.png'">
    </div>
  </div>

  <app-comment [product]="product" [attribute]="'observationsRight'" [enableField]="enable.right"></app-comment>
  <app-upload-file #uploadFile [product]="product" [enableField]="enable.right" [listFiles]="listFileRightEye"></app-upload-file>


  <!-- EYE LEFT -->
  <app-info-params [eye]="'left'" [typeParams]="'header'" [enableParams]="enableParams.left" (select)="selectEye($event)" (changeParamsAndPrice)="changeParamsAndPrice($event)" [parameters]="product.parametersLeft"></app-info-params>
  <app-info-params [eye]="'left'" [typeParams]="'body'" [enableParams]="enableParams.left" (select)="selectEye($event)" (changeParamsAndPrice)="changeParamsAndPrice($event)" [parameters]="product.parametersLeft"></app-info-params>
  <div class="img-atlantis" *ngIf="!!showImg.left && !!enable.left">
    <div class="img1">
      <div>
        <span>Quadrant Specifications</span>
        <span>Clock mark position of quadrant 2</span>
          <ng-select [items]="paramsAtlantisImages.left.clock.values" [required]="true" id="select-left-clock"
            [(ngModel)]="paramsAtlantisImages.left.clock.selected" bindLabel="item" bindValue="item"
            placeholder="{{ ' ' | translate }}">
            {{item}}
          </ng-select>
      </div>
      <img [src]="'assets/images/products/atlantis/img1.png'">
    </div>

    <div class="img2">
      <div>
        <div *ngFor="let parameter of getAtlantisParams('left')">
          <!--Quadrant 1-->
          <div  *ngIf="parameter.name !== 'Clock Mark' && parameter.name !== 'Atlantis 2.0 C.S.A'" class="quadrant {{parameter.name}}">
            <span>{{ (parameter.name.includes('LZ') ? 'LZ' : 'SZ') }}</span>
            <ng-select [items]="parameter.values" [required]="true" id="select-left-{{parameter.name}}"
              [(ngModel)]="parameter.selected" bindLabel="item" bindValue="item"
              [clearable]="parameter.noRequired" placeholder="{{ (parameter.name.includes('LZ') ? 'LZ' : 'SZ') | translate }}">
              {{item}}
            </ng-select>
          </div>
        </div>
      </div>
      <img [src]="'assets/images/products/atlantis/img2.png'">
    </div>
  </div>

  <app-upload-file #uploadFile [product]="product" [enableField]="enable.left" [listFiles]="listFileLeftEye"></app-upload-file>
  <app-comment [product]="product" [attribute]="'observationsLeft'" [enableField]="enable.left"></app-comment>

  <app-footer-buttons (buttonAction)="buttonAction($event)" [buttons]="buttons"  [disableBuyButton]="checkDisabled()"></app-footer-buttons>
</app-card-product>
